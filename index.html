<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THEO D√ïI TH√îNG MINH - H·ªá th·ªëng Y t·∫ø Th√¥ng minh</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/logo_app(1).png">
    <link rel="shortcut icon" type="image/png" href="assets/logo_app(1).png">
    <link rel="apple-touch-icon" href="assets/logo_app(1).png">
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-storage-compat.js"></script>
</head>
            </div>
        </div>
    </div>

    <!-- Dashboard Screen -->
    <div id="dashboard-screen" class="screen">
        <header class="app-header">
            <div class="header-content">
                <div class="user-info">
                    <div class="avatar">
                        <img src="assets/logo_app(1).png" alt="User Avatar" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <span class="material-icons" style="display:none;">person</span>
                    </div>
                    <div class="user-details">
                        <h2>Xin ch√†o, Ng∆∞·ªùi d√πng</h2>
                        <p>H·ªá th·ªëng gi√°m s√°t s·ª©c kh·ªèe th√¥ng minh</p>
                    </div>
                </div>
                <div class="header-actions">
                    <button class="icon-btn">
                        <span class="material-icons">notifications</span>
                    </button>
                    <button class="icon-btn">
                        <span class="material-icons">settings</span>
                    </button>
                </div>
            </div>
        </header>

        <main class="dashboard-content">
            <!-- Medical Monitor Device -->
            <div class="medical-monitor">
                <div class="monitor-header">
                    <div class="monitor-title">
                        <img src="assets/logo_app(1).png" alt="Medical Monitor Logo" class="monitor-logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <span class="material-icons" style="display:none;">monitor_heart</span>
                        <h2>CH·ªà S·ªê SINH T·ªíN</h2>
                    </div>
                    <div class="monitor-status">
                        <div class="status-indicator active"></div>
                        <span>ƒêang ho·∫°t ƒë·ªông</span>
                    </div>
                </div>
                
                <!-- Patient Information Section -->
                <div class="patient-info-section">
                    <div class="patient-info-title">
                        <span class="material-icons">person</span>
                        <h3>Th√¥ng tin b·ªánh nh√¢n</h3>
                    </div>
                    <div class="patient-info-grid">
                        <div class="patient-info-item">
                            <label>T√™n b·ªánh nh√¢n:</label>
                            <span id="monitor-patient-name">Ch∆∞a c·∫≠p nh·∫≠t</span>
                        </div>
                        <div class="patient-info-item">
                            <label>Gi·ªõi t√≠nh:</label>
                            <span id="monitor-patient-gender">Ch∆∞a c·∫≠p nh·∫≠t</span>
                        </div>
                        <div class="patient-info-item">
                            <label>M√£ b·ªánh nh√¢n:</label>
                            <span id="monitor-patient-id">Ch∆∞a c·∫≠p nh·∫≠t</span>
                        </div>
                        <div class="patient-info-item">
                            <label>S·ªë gi∆∞·ªùng:</label>
                            <span id="monitor-patient-bed">Ch∆∞a c·∫≠p nh·∫≠t</span>
                        </div>
                        <div class="patient-info-item">
                            <label>Ph√≤ng b·ªánh:</label>
                            <span id="monitor-patient-room">Ch∆∞a c·∫≠p nh·∫≠t</span>
                        </div>
                    </div>
                </div>
                
                <!-- Real-time Charts Grid -->
                <div class="charts-grid">
                    <div class="chart-monitor">
                        <div class="chart-header">
                            <span class="material-icons">favorite</span>
                            <h3>Nh·ªãp tim</h3>
                            <div class="current-value" id="current-heart-rate">108 bpm</div>
                        </div>
                        <canvas id="heart-rate-chart" width="300" height="150"></canvas>
                    </div>
                    
                    <div class="chart-monitor">
                        <div class="chart-header">
                            <span class="material-icons">air</span>
                            <h3>SpO2</h3>
                            <div class="current-value" id="current-spo2">98%</div>
                        </div>
                        <canvas id="spo2-chart" width="300" height="150"></canvas>
                    </div>
                    
                    <div class="chart-monitor">
                        <div class="chart-header">
                            <span class="material-icons">thermostat</span>
                            <h3>Nhi·ªát ƒë·ªô ¬∞C</h3>
                            <div class="current-value" id="current-temp-c">36.5¬∞C</div>
                            <button class="settings-btn" onclick="showTemperatureSettings()">
                                <span class="material-icons">settings</span>
                            </button>
                        </div>
                        <canvas id="temperature-c-chart" width="300" height="150"></canvas>
                    </div>
                    
                    <div class="chart-monitor">
                        <div class="chart-header">
                            <span class="material-icons">device_thermostat</span>
                            <h3>Nhi·ªát ƒë·ªô ¬∞F</h3>
                            <div class="current-value" id="current-temp-f">97.7¬∞F</div>
                        </div>
                        <canvas id="temperature-f-chart" width="300" height="150"></canvas>
                    </div>
                </div>
                
                <!-- Additional Sensors -->
                <div class="additional-sensors">
                    <div class="sensor-item">
                        <span class="material-icons">waves</span>
                        <div>
                            <p>Chuy·ªÉn ƒë·ªông</p>
                            <strong id="motion-status">detected</strong>
                        </div>
                    </div>
                    <div class="sensor-item">
                        <span class="material-icons">sensors</span>
                        <div>
                            <p>S·ªë l·∫ßn c·∫£m bi·∫øn</p>
                            <strong id="motion-count">5</strong>
                        </div>
                    </div>
                    <div class="sensor-item">
                        <span class="material-icons">thermostat_outdoor</span>
                        <div>
                            <p>Nhi·ªát ƒë·ªô m√¥i tr∆∞·ªùng</p>
                            <strong id="ambient-temp">28.5¬∞C</strong>
                        </div>
                    </div>
                    <div class="sensor-item">
                        <span class="material-icons">water_drop</span>
                        <div>
                            <p>ƒê·ªô ·∫©m m√¥i tr∆∞·ªùng</p>
                            <strong id="ambient-humidity">65%</strong>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Quick Stats Cards -->
            <section class="quick-stats">
                <div class="stat-card">
                    <span class="material-icons">favorite</span>
                    <h3>108</h3>
                    <p>Nh·ªãp tim (bpm)</p>
                </div>
                <div class="stat-card">
                    <span class="material-icons">air</span>
                    <h3>98%</h3>
                    <p>SpO2 (%)</p>
                </div>
                <div class="stat-card">
                    <span class="material-icons">thermostat</span>
                    <h3>36.5¬∞C</h3>
                    <p>Nhi·ªát ƒë·ªô c∆° th·ªÉ (¬∞C)</p>
                </div>
                <div class="stat-card">
                    <span class="material-icons">device_thermostat</span>
                    <h3>97.7¬∞F</h3>
                    <p>Nhi·ªát ƒë·ªô c∆° th·ªÉ (¬∞F)</p>
                </div>
                <div class="stat-card">
                    <span class="material-icons">waves</span>
                    <h3>detected</h3>
                    <p>Tr·∫°ng th√°i chuy·ªÉn ƒë·ªông</p>
                </div>
                <div class="stat-card">
                    <span class="material-icons">sensors</span>
                    <h3>5</h3>
                    <p>S·ªë l·∫ßn c·∫£m bi·∫øn</p>
                </div>
                <div class="stat-card">
                    <span class="material-icons">thermostat_outdoor</span>
                    <h3>28.5¬∞C</h3>
                    <p>Nhi·ªát ƒë·ªô m√¥i tr∆∞·ªùng (¬∞C)</p>
                </div>
                <div class="stat-card">
                    <span class="material-icons">water_drop</span>
                    <h3>65%</h3>
                    <p>ƒê·ªô ·∫©m m√¥i tr∆∞·ªùng (%)</p>
                </div>
            </section>

            <section class="main-features">
                <div class="feature-grid">
                    <div class="feature-card" onclick="showScreen('profile-screen')">
                        <div class="feature-icon">
                            <span class="material-icons">person</span>
                        </div>
                        <h3>H·ªì s∆°</h3>
                        <p>Th√¥ng tin b·ªánh nh√¢n</p>
                    </div>
                    <div class="feature-card" onclick="showScreen('classification-screen')">
                        <div class="feature-icon">
                            <span class="material-icons">category</span>
                        </div>
                        <h3>Ph√¢n lo·∫°i</h3>
                        <p>Ph√¢n lo·∫°i c·∫•p c·ª©u</p>
                    </div>
                    <div class="feature-card" onclick="showScreen('emergency-call-screen')">
                        <div class="feature-icon">
                            <span class="material-icons">emergency</span>
                        </div>
                        <h3>C·∫•p c·ª©u</h3>
                        <p>G·ªçi kh·∫©n c·∫•p</p>
                    </div>
                    <div class="feature-card" onclick="showScreen('notification-screen')">
                        <div class="feature-icon">
                            <span class="material-icons">notifications</span>
                        </div>
                        <h3>Th√¥ng b√°o</h3>
                        <p>Tin t·ª©c y t·∫ø</p>
                    </div>
                    <div class="feature-card primary" onclick="showScreen('chat-screen')">
                        <div class="feature-icon">
                            <span class="material-icons">chat</span>
                        </div>
                        <h3>Chat AI</h3>
                        <p>T∆∞ v·∫•n y t·∫ø th√¥ng minh</p>
                    </div>
                    <div class="feature-card primary" onclick="showScreen('firstaid-screen')">
                        <div class="feature-icon">
                            <span class="material-icons">healing</span>
                        </div>
                        <h3>S∆° c·ª©u</h3>
                        <p>H∆∞·ªõng d·∫´n s∆° c·ª©u kh·∫©n c·∫•p</p>
                    </div>
                </div>
            </section>

            <section class="emergency-section">
                <div class="emergency-card">
                    <div class="emergency-content">
                        <span class="material-icons emergency-icon">emergency</span>
                        <div>
                            <h3>Kh·∫©n c·∫•p</h3>
                            <p>G·ªçi ngay 115 trong tr∆∞·ªùng h·ª£p kh·∫©n c·∫•p</p>
                        </div>
                    </div>
                    <button class="emergency-btn">
                        <span class="material-icons">call</span>
                        115
                    </button>
                </div>
            </section>
        </main>
    </div>

    <!-- Profile Screen -->
    <div id="profile-screen" class="screen">
        <header class="screen-header">
            <button class="back-btn" onclick="showScreen('dashboard-screen')">
                <span class="material-icons">arrow_back</span>
            </button>
            <div class="header-title">
                <img src="assets/logo_app(1).png" alt="App Logo" class="header-logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <span class="material-icons" style="display:none;">person</span>
                <h1>H·ªì s∆° c√° nh√¢n</h1>
            </div>
            <div class="header-actions"></div>
        </header>
        <main class="screen-content">
            <div class="profile-container">
                <!-- ·∫¢nh ƒë·∫°i di·ªán -->
                <div class="profile-avatar-section">
                    <div class="avatar-large">
                        <img src="assets/logo_app_11.jpg" alt="Avatar" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <span class="material-icons" style="display:none;">person</span>
                    </div>
                    <button class="edit-avatar-btn" onclick="changeAvatar()">
                        <span class="material-icons">camera_alt</span>
                        ƒê·ªïi ·∫£nh
                    </button>
                </div>

                <!-- Th√¥ng tin b·ªánh nh√¢n -->
                <div class="profile-section">
                    <h3>üìã Th√¥ng tin b·ªánh nh√¢n</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <label>M√£ s·ªë b·ªánh nh√¢n</label>
                            <input type="text" id="patient-id" placeholder="Nh·∫≠p m√£ s·ªë b·ªánh nh√¢n">
                        </div>
                        <div class="info-item">
                            <label>M√£ CCCD</label>
                            <input type="text" id="cccd" placeholder="Nh·∫≠p m√£ CCCD">
                        </div>
                        <div class="info-item">
                            <label>M√£ BHYT</label>
                            <input type="text" id="bhyt" placeholder="Nh·∫≠p m√£ BHYT">
                        </div>
                        <div class="info-item">
                            <label>H·ªç v√† t√™n</label>
                            <input type="text" id="full-name" placeholder="Nh·∫≠p h·ªç v√† t√™n">
                        </div>
                        <div class="info-item">
                            <label>Ng√†y sinh</label>
                            <input type="date" id="dob" placeholder="Ch·ªçn ng√†y sinh">
                        </div>
                        <div class="info-item">
                            <label>Gi·ªõi t√≠nh</label>
                            <div class="radio-group">
                                <label><input type="radio" name="gender" value="Nam" checked> Nam</label>
                                <label><input type="radio" name="gender" value="N·ªØ"> N·ªØ</label>
                            </div>
                        </div>
                        <div class="info-item">
                            <label>Qu√™ qu√°n</label>
                            <input type="text" id="hometown" placeholder="Nh·∫≠p qu√™ qu√°n">
                        </div>
                        <div class="info-item">
                            <label>S·ªë ƒëi·ªán tho·∫°i</label>
                            <input type="tel" id="phone" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i">
                        </div>
                        <div class="info-item">
                            <label>Ng∆∞·ªùi th√¢n</label>
                            <input type="text" id="relative" placeholder="Nh·∫≠p t√™n ng∆∞·ªùi th√¢n">
                        </div>
                    </div>
                </div>

                <!-- Th√¥ng tin th·ªÉ ch·∫•t -->
                <div class="profile-section">
                    <h3>üìè Th√¥ng tin th·ªÉ ch·∫•t</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <label>C√¢n n·∫∑ng (kg)</label>
                            <input type="number" id="weight" placeholder="Nh·∫≠p c√¢n n·∫∑ng">
                        </div>
                        <div class="info-item">
                            <label>Chi·ªÅu cao (cm)</label>
                            <input type="number" id="height" placeholder="Nh·∫≠p chi·ªÅu cao">
                        </div>
                    </div>
                </div>

                <!-- Th√¥ng tin ƒëi·ªÅu tr·ªã -->
                <div class="profile-section">
                    <h3>üè• Th√¥ng tin ƒëi·ªÅu tr·ªã</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <label>Ph√≤ng</label>
                            <input type="text" id="room" placeholder="Nh·∫≠p s·ªë ph√≤ng">
                        </div>
                        <div class="info-item">
                            <label>Gi∆∞·ªùng</label>
                            <input type="text" id="bed" placeholder="Nh·∫≠p s·ªë gi∆∞·ªùng">
                        </div>
                        <div class="info-item">
                            <label>Ng√†y v√†o vi·ªán</label>
                            <input type="date" id="admission-date" placeholder="Ch·ªçn ng√†y v√†o vi·ªán">
                        </div>
                        <div class="info-item">
                            <label>Ng√†y ra vi·ªán</label>
                            <input type="date" id="discharge-date" placeholder="Ch·ªçn ng√†y ra vi·ªán">
                        </div>
                    </div>
                </div>

                <!-- Th√¥ng tin y t·∫ø -->
                <div class="profile-section">
                    <h3>ü©∫ Th√¥ng tin y t·∫ø</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <label>Nh√≥m m√°u</label>
                            <select id="blood-type">
                                <option value="">Ch·ªçn nh√≥m m√°u</option>
                                <option value="A+">A+</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B-">B-</option>
                                <option value="O+">O+</option>
                                <option value="O-">O-</option>
                            </select>
                        </div>
                        <div class="info-item">
                            <label>D·ªã ·ª©ng</label>
                            <textarea id="allergies" placeholder="Nh·∫≠p th√¥ng tin d·ªã ·ª©ng"></textarea>
                        </div>
                        <div class="info-item">
                            <label>Ti·ªÅn s·ª≠ b·ªánh</label>
                            <textarea id="medical-history" placeholder="Nh·∫≠p ti·ªÅn s·ª≠ b·ªánh"></textarea>
                        </div>
                        <div class="info-item">
                            <label>T√°i kh√°m ƒë·ªãnh k·ª≥</label>
                            <textarea id="general-checkup" placeholder="Nh·∫≠p th√¥ng tin t√°i kh√°m ƒë·ªãnh k·ª≥"></textarea>
                        </div>
                    </div>
                </div>

                <!-- Nh√¢n vi√™n y t·∫ø -->
                <div class="profile-section">
                    <h3>üë®‚Äç‚öïÔ∏è Nh√¢n vi√™n y t·∫ø</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <label>B√°c sƒ© ƒëi·ªÅu tr·ªã</label>
                            <input type="text" id="doctor" placeholder="Nh·∫≠p t√™n b√°c sƒ©">
                        </div>
                        <div class="info-item">
                            <label>Di·ªÅu d∆∞·ª°ng</label>
                            <input type="text" id="nurses" placeholder="Nh·∫≠p t√™n ƒëi·ªÅu d∆∞·ª°ng">
                        </div>
                    </div>
                </div>

                <!-- N√∫t l∆∞u -->
                <div class="profile-actions">
                    <button class="btn-primary" onclick="updateMonitorPatientInfo()">
                        <span class="material-icons">save</span>
                        L∆∞u th√¥ng tin
                    </button>
                    <button class="btn-secondary" onclick="showScreen('dashboard-screen')">
                        <span class="material-icons">arrow_back</span>
                        Quay l·∫°i
                    </button>
                </div>
            </div>
        </main>
    </div>

    <!-- First Aid Screen -->
    <div id="firstaid-screen" class="screen">
        <header class="screen-header">
            <button class="back-btn" onclick="showScreen('dashboard-screen')">
                <span class="material-icons">arrow_back</span>
            </button>
            <h1>S∆° c·ª©u</h1>
        </header>
        <main class="screen-content">
            <div class="firstaid-container">
                <div class="technique-card" onclick="toggleTechnique(this)">
                    <div class="technique-header">
                        <div class="technique-number">1</div>
                        <img src="assets/logo_app_11.jpg" alt="CPR" class="technique-icon">
                        <h3>K·ªπ thu·∫≠t h·ªìi s·ª©c tim ph·ªïi (CPR)</h3>
                        <span class="material-icons expand-icon">expand_more</span>
                    </div>
                    <div class="technique-content">
                        <img src="assets/logo_app_11.jpg" alt="CPR" class="technique-image">
                        <div class="technique-steps">
                            <h4>C√°c b∆∞·ªõc th·ª±c hi·ªán:</h4>
                            <ol>
                                <li>Ki·ªÉm tra s·ª± t·ªânh t√°o c·ªßa n·∫°n nh√¢n</li>
                                <li>G·ªçi c·∫•p c·ª©u 115 ngay l·∫≠p t·ª©c</li>
                                <li>ƒê·∫∑t n·∫°n nh√¢n n·∫±m ng·ª≠a tr√™n m·∫∑t ph·∫≥ng</li>
                                <li>Nghi√™ng ƒë·∫ßu ra sau v√† n√¢ng c·∫±m</li>
                                <li>Ki·ªÉm tra h∆°i th·ªü trong 10 gi√¢y</li>
                                <li>N·∫øu kh√¥ng th·ªü, b·∫Øt ƒë·∫ßu √©p tim 30 l·∫ßn</li>
                                <li>Th·ªïi ng·∫°t 2 l·∫ßn, m·ªói l·∫ßn 1 gi√¢y</li>
                                <li>L·∫∑p l·∫°i chu tr√¨nh 30 √©p tim - 2 th·ªïi ng·∫°t</li>
                                <li>Ti·∫øp t·ª•c cho ƒë·∫øn khi c√≥ nh√¢n vi√™n y t·∫ø</li>
                            </ol>
                        </div>
                    </div>
                </div>

                <div class="technique-card" onclick="toggleTechnique(this)">
                    <div class="technique-header">
                        <div class="technique-number">2</div>
                        <img src="assets/logo_app_12.jpg" alt="H√≥c d·ªã v·∫≠t" class="technique-icon">
                        <h3>K·ªπ thu·∫≠t s∆° c·ª©u h√≥c d·ªã v·∫≠t (Th·ªß thu·∫≠t Heimlich)</h3>
                        <span class="material-icons expand-icon">expand_more</span>
                    </div>
                    <div class="technique-content">
                        <img src="assets/logo_app_12.jpg" alt="H√≥c d·ªã v·∫≠t" class="technique-image">
                        <div class="technique-steps">
                            <h4>C√°c b∆∞·ªõc th·ª±c hi·ªán:</h4>
                            <ol>
                                <li>ƒê·ª©ng sau n·∫°n nh√¢n, v√≤ng tay ra tr∆∞·ªõc</li>
                                <li>N·∫Øm m·ªôt n·∫Øm ƒë·∫•m ƒë·∫∑t v√†o v√πng b·ª•ng tr√™n r·ªën</li>
                                <li>N·∫Øm b√†n tay kia √¥m l·∫•y n·∫Øm ƒë·∫•m</li>
                                <li>Gi·∫≠t m·∫°nh v√†o trong v√† l√™n tr√™n</li>
                                <li>L·∫∑p l·∫°i 5 l·∫ßn ho·∫∑c cho ƒë·∫øn khi d·ªã v·∫≠t vƒÉng ra</li>
                                <li>N·∫øu n·∫°n nh√¢n b·∫•t t·ªânh, ƒë·∫∑t n·∫±m ng·ª≠a</li>
                                <li>D√πng l√≤ng b√†n tay ·∫•n v√†o v√πng b·ª•ng tr√™n r·ªën</li>
                                <li>L·∫∑p l·∫°i cho ƒë·∫øn khi d·ªã v·∫≠t vƒÉng ra</li>
                            </ol>
                        </div>
                    </div>
                </div>

                <div class="technique-card" onclick="toggleTechnique(this)">
                    <div class="technique-header">
                        <div class="technique-number">3</div>
                        <img src="assets/logo_app_13.jpg" alt="X·ª≠ l√Ω v·∫øt th∆∞∆°ng" class="technique-icon">
                        <h3>K·ªπ thu·∫≠t x·ª≠ l√Ω v·∫øt th∆∞∆°ng ch·∫£y m√°u</h3>
                        <span class="material-icons expand-icon">expand_more</span>
                    </div>
                    <div class="technique-content">
                        <img src="assets/logo_app_13.jpg" alt="X·ª≠ l√Ω v·∫øt th∆∞∆°ng" class="technique-image">
                        <div class="technique-steps">
                            <h4>C√°c b∆∞·ªõc th·ª±c hi·ªán:</h4>
                            <ol>
                                <li>ƒêeo gƒÉng tay y t·∫ø n·∫øu c√≥</li>
                                <li>R·ª≠a s·∫°ch tay v·ªõi x√† ph√≤ng di·ªát khu·∫©n</li>
                                <li>D√πng g·∫°c s·∫°ch ·∫•n tr·ª±c ti·∫øp l√™n v·∫øt th∆∞∆°ng</li>
                                <li>Gi·ªØ √°p l·ª±c li√™n t·ª•c trong 5-10 ph√∫t</li>
                                <li>N·∫øu m√°u th·∫•m qua g·∫°c, th√™m g·∫°c kh√°c</li>
                                <li>Kh√¥ng g·ª° g·∫°c c≈© ra</li>
                                <li>N√¢ng cao v√πng b·ªã th∆∞∆°ng cao h∆°n tim</li>
                                <li>BƒÉng √©p v·∫øt th∆∞∆°ng</li>
                                <li>G·ªçi c·∫•p c·ª©u n·∫øu m√°u kh√¥ng ng·ª´ng ch·∫£y</li>
                            </ol>
                        </div>
                    </div>
                </div>

                <div class="technique-card" onclick="toggleTechnique(this)">
                    <div class="technique-header">
                        <div class="technique-number">4</div>
                        <img src="assets/logo_app_14.jpg" alt="S∆° c·ª©u b·ªèng" class="technique-icon">
                        <h3>K·ªπ thu·∫≠t s∆° c·ª©u b·ªèng</h3>
                        <span class="material-icons expand-icon">expand_more</span>
                    </div>
                    <div class="technique-content">
                        <img src="assets/logo_app_14.jpg" alt="S∆° c·ª©u b·ªèng" class="technique-image">
                        <div class="technique-steps">
                            <h4>C√°c b∆∞·ªõc th·ª±c hi·ªán:</h4>
                            <ol>
                                <li>Ngay l·∫≠p t·ª©c di chuy·ªÉn n·∫°n nh√¢n ra kh·ªèi ngu·ªìn nhi·ªát</li>
                                <li>Th√°o b·ªè qu·∫ßn √°o, trang s·ª©c v√πng b·ªã b·ªèng</li>
                                <li>L√†m m√°t v√πng b·ªèng v·ªõi n∆∞·ªõc m√°t (kh√¥ng ph·∫£i n∆∞·ªõc ƒë√°)</li>
                                <li>Th·ªùi gian l√†m m√°t: 15-20 ph√∫t</li>
                                <li>Kh√¥ng d√πng n∆∞·ªõc ƒë√° ho·∫∑c n∆∞·ªõc qu√° l·∫°nh</li>
                                <li>Kh√¥ng b√¥i kem ƒë√°nh rƒÉng, b∆°, ho·∫∑c c√°c ch·∫•t kh√°c</li>
                                <li>Che v√πng b·ªèng b·∫±ng g·∫°c s·∫°ch ho·∫∑c v·∫£i s·∫°ch</li>
                                <li>Kh√¥ng d√πng b√¥ng d√≠nh v√†o v·∫øt b·ªèng</li>
                                <li>G·ªçi c·∫•p c·ª©u n·∫øu b·ªèng n·∫∑ng ho·∫∑c r·ªông</li>
                            </ol>
                        </div>
                    </div>
                </div>

                <div class="technique-card" onclick="toggleTechnique(this)">
                    <div class="technique-header">
                        <div class="technique-number">5</div>
                        <img src="assets/logo_app_15.jpg" alt="Bong g√¢n" class="technique-icon">
                        <h3>K·ªπ thu·∫≠t x·ª≠ l√Ω bong g√¢n v√† ch·∫•n th∆∞∆°ng ph·∫ßn m·ªÅm (Quy t·∫Øc R.I.C.E)</h3>
                        <span class="material-icons expand-icon">expand_more</span>
                    </div>
                    <div class="technique-content">
                        <img src="assets/logo_app_15.jpg" alt="Bong g√¢n" class="technique-image">
                        <div class="technique-steps">
                            <h4>Quy t·∫Øc R.I.C.E:</h4>
                            <div class="rice-section">
                                <h5>R - Rest (Ngh·ªâ ng∆°i):</h5>
                                <ul>
                                    <li>Ngay l·∫≠p t·ª©c ng·ª´ng ho·∫°t ƒë·ªông g√¢y ch·∫•n th∆∞∆°ng</li>
                                    <li>ƒê·ªÉ v√πng b·ªã th∆∞∆°ng ngh·ªâ ng∆°i ho√†n to√†n</li>
                                </ul>
                            </div>
                            <div class="rice-section">
                                <h5>I - Ice (ƒê√° l·∫°nh):</h5>
                                <ul>
                                    <li>Ch∆∞·ªùm ƒë√° l·∫°nh trong 15-20 ph√∫t</li>
                                    <li>L·∫∑p l·∫°i m·ªói 2-3 gi·ªù trong 24-48 gi·ªù ƒë·∫ßu</li>
                                    <li>Qu·∫•n ƒë√° b·∫±ng khƒÉn ƒë·ªÉ kh√¥ng g√¢y b·ªèng l·∫°nh</li>
                                </ul>
                            </div>
                            <div class="rice-section">
                                <h5>C - Compression (√âp):</h5>
                                <ul>
                                    <li>D√πng bƒÉng elastique qu·∫•n nh·∫π nh√†ng</li>
                                    <li>Qu·∫•n t·ª´ d∆∞·ªõi l√™n tr√™n</li>
                                    <li>Kh√¥ng qu·∫•n qu√° ch·∫∑t g√¢y t√™</li>
                                </ul>
                            </div>
                            <div class="rice-section">
                                <h5>E - Elevation (N√¢ng cao):</h5>
                                <ul>
                                    <li>N√¢ng cao v√πng b·ªã th∆∞∆°ng cao h∆°n tim</li>
                                    <li>D√πng g·ªëi ƒë·ªÉ n√¢ng cao khi ng·ªìi ho·∫∑c n·∫±m</li>
                                    <li>Gi·ªØ t∆∞ th·∫ø n√†y c√†ng nhi·ªÅu c√†ng t·ªët</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Chat Screen -->
    <div id="chat-screen" class="screen">
        <header class="screen-header">
            <button class="back-btn" onclick="showScreen('dashboard-screen')">
                <span class="material-icons">arrow_back</span>
            </button>
            <h1>Chat AI</h1>
        </header>
        <main class="chat-content">
            <div class="chat-container">
                <div class="ai-status" id="ai-status">
                    <img src="assets/logo_wed_1.png" alt="AI Logo" class="ai-logo">
                    <span id="ai-status-text">ƒêang k·∫øt n·ªëi AI y t·∫ø...</span>
                </div>
                
                <div class="chat-messages" id="chat-messages">
                    <div class="message ai-message">
                        <div class="message-content">
                            <p>Xin ch√†o! T√¥i l√† h·ªá th·ªëng THEO D√ïI TH√îNG MINH. T√¥i c√≥ th·ªÉ gi√∫p g√¨ cho b·∫°n v·ªÅ s·ª©c kh·ªèe h√¥m nay?</p>
                        </div>
                    </div>
                </div>
                <div class="chat-input-container">
                    <div class="quick-actions">
                        <button class="quick-action-btn" onclick="sendQuickMessage('T√¥i b·ªã ƒëau ƒë·∫ßu')">ü§ï ƒêau ƒë·∫ßu</button>
                        <button class="quick-action-btn" onclick="sendQuickMessage('T√¥i b·ªã ho')">üó£Ô∏è Ho</button>
                        <button class="quick-action-btn" onclick="sendQuickMessage('T√¥i b·ªã s·ªët')">üå°Ô∏è S·ªët</button>
                        <button class="quick-action-btn" onclick="sendQuickMessage('T√¥i b·ªã ƒëau b·ª•ng')">ü§¢ ƒêau b·ª•ng</button>
                    </div>
                    <div class="chat-input-wrapper">
                        <input type="text" id="message-input" class="chat-input" placeholder="Nh·∫≠p c√¢u h·ªèi c·ªßa b·∫°n..." onkeypress="handleKeyPress(event)">
                        <button class="chat-send-btn" onclick="sendMessage()">
                            <span class="material-icons">send</span>
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Health Screen -->
    <div id="health-screen" class="screen">
        <header class="screen-header">
            <button class="back-btn" onclick="showScreen('dashboard-screen')">
                <span class="material-icons">arrow_back</span>
            </button>
            <h1>S·ª©c kh·ªèe</h1>
        </header>
        <main class="screen-content">
            <div class="charts-container">
                <div class="chart-card">
                    <h3>üìà Nh·ªãp tim (bpm)</h3>
                    <canvas id="heart-rate-chart" width="400" height="200"></canvas>
                </div>
                <div class="chart-card">
                    <h3>ü´Å SpO2 (%)</h3>
                    <canvas id="spo2-chart" width="400" height="200"></canvas>
                </div>
                <div class="chart-card">
                    <h3>üå°Ô∏è Nhi·ªát ƒë·ªô c∆° th·ªÉ (¬∞C)</h3>
                    <canvas id="temperature-c-chart" width="400" height="200"></canvas>
                </div>
                <div class="chart-card">
                    <h3>üå°Ô∏è Nhi·ªát ƒë·ªô c∆° th·ªÉ (¬∞F)</h3>
                    <canvas id="temperature-f-chart" width="400" height="200"></canvas>
                </div>
            </div>
            <div class="health-metrics">
                    <div class="metric-card">
                        <span class="material-icons">favorite</span>
                        <div>
                            <h4>108</h4>
                            <p>Nh·ªãp tim (bpm)</p>
                        </div>
                    </div>
                    <div class="metric-card">
                        <span class="material-icons">thermostat</span>
                        <div>
                            <h4>36.5¬∞C</h4>
                            <p>Nhi·ªát ƒë·ªô (¬∞C)</p>
                        </div>
                    </div>
                    <div class="metric-card">
                        <span class="material-icons">water_drop</span>
                        <div>
                            <h4>65%</h4>
                            <p>ƒê·ªô ·∫©m (%)</p>
                        </div>
                    </div>
                    <div class="metric-card">
                        <span class="material-icons">air</span>
                        <div>
                            <h4>98%</h4>
                            <p>SpO2 (%)</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Environment Screen -->
    <div id="environment-screen" class="screen">
        <header class="screen-header">
            <button class="back-btn" onclick="showScreen('dashboard-screen')">
                <span class="material-icons">arrow_back</span>
            </button>
            <h1>M√¥i tr∆∞·ªùng</h1>
        </header>
        <main class="screen-content">
            <div class="environment-data">
                <div class="air-quality-card">
                    <div class="air-quality-header">
                        <span class="material-icons">air</span>
                        <h3>Ch·∫•t l∆∞·ª£ng kh√¥ng kh√≠</h3>
                    </div>
                    <div class="aqi-value">
                        <h2>42</h2>
                        <p class="aqi-label good">T·ªët</p>
                    </div>
                    <div class="air-quality-details">
                        <div class="pollutant">
                            <span>PM2.5</span>
                            <strong>12 ¬µg/m¬≥</strong>
                        </div>
                        <div class="pollutant">
                            <span>PM10</span>
                            <strong>25 ¬µg/m¬≥</strong>
                        </div>
                        <div class="pollutant">
                            <span>O‚ÇÉ</span>
                            <strong>65 ¬µg/m¬≥</strong>
                        </div>
                        <div class="pollutant">
                            <span>NO‚ÇÇ</span>
                            <strong>18 ¬µg/m¬≥</strong>
                        </div>
                    </div>
                </div>
                <div class="weather-info">
                    <div class="weather-card">
                        <span class="material-icons">thermostat</span>
                        <div>
                            <h3>28¬∞C</h3>
                            <p>Nhi·ªát ƒë·ªô</p>
                        </div>
                    </div>
                    <div class="weather-card">
                        <span class="material-icons">water_drop</span>
                        <div>
                            <h3>65%</h3>
                            <p>ƒê·ªô ·∫©m</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Notification Screen -->
    <div id="notification-screen" class="screen">
        <header class="screen-header">
            <button class="back-btn" onclick="showScreen('dashboard-screen')">
                <span class="material-icons">arrow_back</span>
            </button>
            <h1>Tin t·ª©c y t·∫ø</h1>
        </header>
        <main class="screen-content">
            <div class="news-tabs">
                <button class="tab-btn active" onclick="switchNewsTab(this, 'vnexpress')">üì∞ VnExpress</button>
                <button class="tab-btn" onclick="switchNewsTab(this, 'thanhnien')">üì∞ Thanh Ni√™n</button>
                <button class="tab-btn" onclick="switchNewsTab(this, 'tuoitre')">üì∞ Tu·ªïi Tr·∫ª</button>
            </div>
            <div class="news-content">
                <div class="news-placeholder">
                    <div class="news-card">
                        <h3>üì∞ Tin t·ª©c y t·∫ø m·ªõi nh·∫•t</h3>
                        <p>ƒê·ªÉ xem tin t·ª©c y t·∫ø t·ª´ c√°c ngu·ªìn uy t√≠n, vui l√≤ng truy c·∫≠p tr·ª±c ti·∫øp:</p>
                        <div class="news-links">
                            <a href="https://vnexpress.net/suc-khoe" target="_blank">üì∞ VnExpress S·ª©c kh·ªèe</a>
                            <a href="https://thanhnien.vn/suc-khoe" target="_blank">üì∞ Thanh Ni√™n S·ª©c kh·ªèe</a>
                            <a href="https://tuoitre.vn/suc-khoe" target="_blank">üì∞ Tu·ªïi Tr·∫ª S·ª©c kh·ªèe</a>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Temperature Settings Modal -->
    <div id="temperature-settings-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>‚öôÔ∏è C√†i ƒë·∫∑t ng∆∞·ª°ng nhi·ªát ƒë·ªô</h3>
                <button class="close-btn" onclick="closeTemperatureSettings()">
                    <span class="material-icons">close</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="age-selector">
                    <label for="age-select">Ch·ªçn ƒë·ªô tu·ªïi:</label>
                    <select id="age-select" onchange="updateTemperatureThresholds()">
                        <option value="0-1">0-1 tu·ªïi (Tr·∫ª s∆° sinh)</option>
                        <option value="1-3">1-3 tu·ªïi (Tr·∫ª nh·ªè)</option>
                        <option value="3-5">3-5 tu·ªïi (M·∫´u gi√°o)</option>
                        <option value="6-12">6-12 tu·ªïi (Tr·∫ª em)</option>
                        <option value="13-18">13-18 tu·ªïi (Thanh thi·∫øu ni√™n)</option>
                        <option value="19-65" selected>19-65 tu·ªïi (Ng∆∞·ªùi l·ªõn)</option>
                        <option value="65+">65+ tu·ªïi (Ng∆∞·ªùi cao tu·ªïi)</option>
                    </select>
                </div>
                <div class="temperature-range">
                    <h4>Ng∆∞·ª°ng nhi·ªát ƒë·ªô b√¨nh th∆∞·ªùng:</h4>
                    <div class="range-display">
                        <span class="min-temp" id="min-temp-display">36.1¬∞C</span>
                        <span class="to">ƒë·∫øn</span>
                        <span class="max-temp" id="max-temp-display">37.2¬∞C</span>
                    </div>
                    <div class="range-info">
                        <p id="range-description">Nhi·ªát ƒë·ªô b√¨nh th∆∞·ªùng cho ng∆∞·ªùi l·ªõn</p>
                    </div>
                </div>
                <div class="warning-settings">
                    <label>
                        <input type="checkbox" id="enable-temp-warning" checked>
                        B·∫≠t c·∫£nh b√°o khi nhi·ªát ƒë·ªô ngo√†i ng∆∞·ª°ng
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-primary" onclick="saveTemperatureSettings()">L∆∞u c√†i ƒë·∫∑t</button>
                <button class="btn-secondary" onclick="closeTemperatureSettings()">H·ªßy</button>
            </div>
        </div>
    </div>

    <!-- Classification Screen -->
    <div id="classification-screen" class="screen">
        <header class="screen-header">
            <button class="back-btn" onclick="showScreen('dashboard-screen')">
                <span class="material-icons">arrow_back</span>
            </button>
            <h1>Ph√¢n lo·∫°i</h1>
        </header>
        <main class="screen-content">
            <div class="classification-container">
                <div class="classification-header">
                    <h2>üè• Ph√¢n lo·∫°i c·∫•p c·ª©u y t·∫ø th√¥ng minh</h2>
                    <p>Tr·∫£ l·ªùi c√°c c√¢u h·ªèi ƒë·ªÉ x√°c ƒë·ªãnh m·ª©c ƒë·ªô kh·∫©n c·∫•p</p>
                </div>
                
                <div class="questionnaire-container">
                    <div class="question-card">
                        <h3>C√¢u h·ªèi 1</h3>
                        <p>B·ªánh nh√¢n c√≥ ƒëang kh√≥ th·ªü kh√¥ng?</p>
                        <div class="answer-options">
                            <button class="answer-btn" onclick="evaluateAnswer(1, 'no')">Kh√¥ng</button>
                            <button class="answer-btn" onclick="evaluateAnswer(1, 'yes')">C√≥</button>
                        </div>
                    </div>
                    
                    <div class="question-card">
                        <h3>C√¢u h·ªèi 2</h3>
                        <p>B·ªánh nh√¢n c√≥ ƒëau ng·ª±c kh√¥ng?</p>
                        <div class="answer-options">
                            <button class="answer-btn" onclick="evaluateAnswer(2, 'no')">Kh√¥ng</button>
                            <button class="answer-btn" onclick="evaluateAnswer(2, 'yes')">C√≥</button>
                        </div>
                    </div>
                    
                    <div class="question-card">
                        <h3>C√¢u h·ªèi 3</h3>
                        <p>B·ªánh nh√¢n c√≥ b·ªã m·∫•t √Ω th·ª©c kh√¥ng?</p>
                        <div class="answer-options">
                            <button class="answer-btn" onclick="evaluateAnswer(3, 'no')">Kh√¥ng</button>
                            <button class="answer-btn" onclick="evaluateAnswer(3, 'yes')">C√≥</button>
                        </div>
                    </div>
                    
                    <div class="question-card">
                        <h3>C√¢u h·ªèi 4</h3>
                        <p>Nh·ªãp tim c√≥ b·∫•t th∆∞·ªùng kh√¥ng?</p>
                        <div class="answer-options">
                            <button class="answer-btn" onclick="evaluateAnswer(4, 'no')">Kh√¥ng</button>
                            <button class="answer-btn" onclick="evaluateAnswer(4, 'yes')">C√≥</button>
                        </div>
                    </div>
                    
                    <div class="question-card">
                        <h3>C√¢u h·ªèi 5</h3>
                        <p>Huy·∫øt √°p c√≥ th·∫•p kh√¥ng?</p>
                        <div class="answer-options">
                            <button class="answer-btn" onclick="evaluateAnswer(5, 'no')">Kh√¥ng</button>
                            <button class="answer-btn" onclick="evaluateAnswer(5, 'yes')">C√≥</button>
                        </div>
                    </div>
                </div>
                
                <div class="result-container" id="classification-result" style="display: none;">
                    <div class="result-card">
                        <div class="result-icon" id="result-icon">
                            <span class="material-icons">assessment</span>
                        </div>
                        <div class="result-content">
                            <h3 id="result-title">ƒêang ph√¢n lo·∫°i...</h3>
                            <p id="result-description">Vui l√≤ng tr·∫£ l·ªùi t·∫•t c·∫£ c√¢u h·ªèi</p>
                            <div class="result-level" id="result-level">
                                <span class="level-indicator"></span>
                                <span class="level-text"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Emergency Call Screen -->
    <div id="emergency-call-screen" class="screen">
        <header class="screen-header">
            <button class="back-btn" onclick="showScreen('dashboard-screen')">
                <span class="material-icons">arrow_back</span>
            </button>
            <h1>C·∫•p c·ª©u</h1>
        </header>
        <main class="screen-content">
            <div class="emergency-container">
                <div class="emergency-header">
                    <h2>üöë G·ªçi c·∫•p c·ª©u y t·∫ø</h2>
                    <p>Nh·∫•n n√∫t d∆∞·ªõi ƒë·ªÉ g·ªçi ngay l·∫≠p t·ª©c</p>
                </div>
                
                <div class="emergency-actions">
                    <button class="emergency-call-btn" onclick="callEmergency()">
                        <span class="material-icons">call</span>
                        G·ªçi 115
                    </button>
                    
                    <div class="emergency-info">
                        <h3>Th√¥ng tin c·∫•p c·ª©u</h3>
                        <div class="emergency-contacts">
                            <div class="contact-item">
                                <span class="material-icons">local_hospital</span>
                                <div>
                                    <strong>C·∫•p c·ª©u 115</strong>
                                    <p>G·ªçi ngay cho tr∆∞·ªùng h·ª£p kh·∫©n c·∫•p</p>
                                </div>
                            </div>
                            <div class="contact-item">
                                <span class="material-icons">medical_services</span>
                                <div>
                                    <strong>B·ªánh vi·ªán g·∫ßn nh·∫•t</strong>
                                    <p>T√¨m b·ªánh vi·ªán g·∫ßn v·ªã tr√≠ hi·ªán t·∫°i</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="js/firebase-config.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
